# socket_assenssment
此分支为一个使用TCP协议来远程打印log的项目

远程long保存、查询功能

1、实现一个tcp server端

2、实现一个tcp client端

3、server端和client自己设计简单的协议(如read_log write_log get_res 等等)

4、log保存在server端

5、client 通过socket向server端发送请求 写一条log/读所有log/计算数据采集结果

6、server通过socket返回响应Client查询结果

7、当client异常突出时如被关闭 server端应该有心跳超时机制(如60S无收到client的心跳 认为client离线)

8、server端的log打印不做任何要求，但是client正常/异常离线需要有对应的log

当client连接到server时，client端显示：

********功能选择界面**************
1：文件保存log功能

2：数据采集功能

0：退出程序

********功能选择界面**************

client向server端发送1  server进入log功能界面

********log功能界面**************

1：文件log保存功能

2：文件log打印功能

0：返回上一级菜单
********log功能界面**************

client端输入1  进入保存功能

文件log保存功能描述：client像server端发送1个数字 假如是3

将"[年-月-日 时:分:秒]get_num = 3\r\n"这句话打印到文件中 从文件后面追加

如server端第一次保存log 创建文件log.txt

文件里面的内容为：

[年-月-日 时:分:秒]get_num=3

第二次调用保存log功能 假如输入值为1

文件里面的内容应该为

[年-月-日 时:分:秒]get_num=3

[年-月-日 时:分:秒]get_num=1

假如第三到第十次的输入值均为2

文件里面的内容为：

[年-月-日 时:分:秒]get_num=3

[年-月-日 时:分:秒]get_num=1

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2


要求一：文件最多保存的log数量为10条 当有第11条log的时候 应该覆盖第1条log

假如第11次输入值为4 文件里面的内容为：

[年-月-日 时:分:秒]get_num=4

[年-月-日 时:分:秒]get_num=1

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

要求二：再次进入文件log保存功能时  当文件存在的时候应该也往后追加

如上一次退出log保存功能时 文件内容为：

[年-月-日 时:分:秒]get_num=4

[年-月-日 时:分:秒]get_num=1

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

再次进入文件log保存功能 输入值为5 此时文件的内容为：

[年-月-日 时:分:秒]get_num=4

[年-月-日 时:分:秒]get_num=5

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2



clien 输入 2 进入 文件log打印功能,server向client发送、client直接将socket的数据域打印

假如server端文件内容为

[年-月-日 时:分:秒]get_num=4

[年-月-日 时:分:秒]get_num=5

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2



server端发送和client显示的log应该为：



[年-月-日 时:分:秒]get_num=4

[年-月-日 时:分:秒]get_num=5

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2

[年-月-日 时:分:秒]get_num=2



TIP:log功能考核环形存储+文件操作  

client 端输入0 返回到功能选择界面



在功能选择界面client端输入2 进入数据采集界面

client显示的内容为：

********数据采集界面**************

1：采集数据
2：输出最大 最小 平均值
0：返回上一级菜单

**************************************

client端输入1 进入采集数据功能
在采集数据功能界面 连续采集10个数据 每个数据以,分隔

如输入值为110,10,1,5,123,48,1,2,3,99

client端输入2 进入计算功能client端将原始数据110,10,1,5,123,48,1,2,3,99发送给server端

server返回数据处理结果

server端发送和client显示的内容为：

最大值123 最小值 1 平均值（中值滤波 去除最大最小值 计算剩下八个数据的平均值）


