CURR_DIR := $(shell pwd)

-include ../../sdk.mk

QL_TARGET_DATA_CALL_EXE = sample_data_call
QL_TARGET_DATA_CALL_OBJS = main_data_call.o

QL_TARGET_APN_EXE = sample_apn
QL_TARGET_APN_OBJS = main_apn.o

QL_TARGET_MULTI_DATA_CALL_EXE = sample_multi_data_call
QL_TARGET_MULTI_DATA_CALL_OBJS = sample_multi_data_call.o

CFLAGS := $(QL_SDK_CFLAGS) $(QL_SDK_HARD_CFLAGS)
LDFLAGS := $(QL_SDK_LDFLAGS) $(QL_SDK_LIBS)

all: $(QL_TARGET_DATA_CALL_EXE) $(QL_TARGET_APN_EXE) $(QL_TARGET_MULTI_DATA_CALL_EXE)

%.o:%.c
	$(CC) -o $@ -c $^ $(CFLAGS)

$(QL_TARGET_DATA_CALL_EXE): $(QL_TARGET_DATA_CALL_OBJS)
	$(CC) -o $@ $(QL_TARGET_DATA_CALL_OBJS) $(LDFLAGS)

$(QL_TARGET_APN_EXE): $(QL_TARGET_APN_OBJS)
	$(CC) -o $@ $(QL_TARGET_APN_OBJS) $(LDFLAGS)

$(QL_TARGET_MULTI_DATA_CALL_EXE): $(QL_TARGET_MULTI_DATA_CALL_OBJS)
	$(CC) -o $@ $(QL_TARGET_MULTI_DATA_CALL_OBJS) $(LDFLAGS)


clean:
	rm -rf *.o
	rm -rf $(QL_TARGET_DATA_CALL_EXE) $(QL_TARGET_APN_EXE) $(QL_TARGET_MULTI_DATA_CALL_EXE)
